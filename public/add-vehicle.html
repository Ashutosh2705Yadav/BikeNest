<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>Add Vehicle - BikeNest Admin</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background: #0f172a; color: #e2e8f0; }
    .card { background: #1e293b; border: 1px solid #334155; }
  </style>
</head>

<body>

  <div class="container py-4">
    <h2 class="fw-bold mb-4">Add New Vehicle</h2>

    <div class="card p-4">

      <form id="vehicleForm">

        <div class="mb-3">
          <label class="form-label">Vehicle Name</label>
          <input type="text" class="form-control" id="name" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Type</label>
          <select id="type" class="form-control" required>
            <option value="bike">Bike</option>
            <option value="scooty">Scooty</option>
          </select>
        </div>

        <div class="mb-3">
          <label class="form-label">Price Per Hour</label>
          <input type="number" class="form-control" id="price" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Image URL</label>
          <input type="text" class="form-control" id="image" required>
        </div>

        <button class="btn btn-primary w-100" type="submit">Add Vehicle</button>

      </form>

    </div>

  </div>

<script>
document.getElementById("vehicleForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const data = {
    name: document.getElementById("name").value,
    type: document.getElementById("type").value,
    price_per_hour: document.getElementById("price").value,
    image_url: document.getElementById("image").value
  };

  const res = await fetch('/api/vehicles', {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  if(res.status === 201) {
    alert("Vehicle added successfully!");
    window.location.href = "manage-vehicles.html";
  } else {
    alert("Error adding vehicle.");
  }
});
</script>

</body>
</html>